<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>珠峰培训-事件传播</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
            background: #eee;
            overflow: hidden;
        }

        #outer {
            margin: 20px auto;
            width: 300px;
            height: 300px;
            background: green;
            cursor: pointer;
        }

        #inner {
            margin: 0 auto;
            width: 200px;
            height: 200px;
            background: red;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div id="outer">
    <div id="inner"></div>
</div>
<!--课时106记录了事件传播的两个阶段:捕获阶段(基本不用)、冒泡阶段(最常用的)-->
<script type="text/javascript">
    var oBody = document.body;
    var outer = document.getElementById("outer");
    var inner = document.getElementById("inner");

    //    oBody.onclick = function (ev) {
    //        console.log("body");
    //    };
    //
    //    outer.onclick = function (ev) {
    //        console.log("outer");
    //    };
    //
    //    inner.onclick = function (ev) {
    //        ev = ev || window.event;
    //        ev.stopPropagation ? ev.stopPropagation() : ev.cancelBubble = true;
    //        console.log("inner");
    //    };

    oBody.addEventListener("click", function (ev) {
        console.log("body");
    }, false);//->false:控制当前的方法是在事件的冒泡传播阶段执行 true->控制其在捕获阶段执行(一般不用)

    outer.addEventListener("click", function (ev) {
        console.log("outer");
    }, false);

    inner.addEventListener("click", function (ev) {
        ev = ev || window.event;
        ev.stopPropagation ? ev.stopPropagation() : ev.cancelBubble = true;
        console.log("inner");
    }, false);

    //->事件的冒泡传播:当前元素的某一个行为被触发,那么它所有父级元素的相关行为都会被触发,这种事件的传播机制叫做“冒泡传播”
    //inner->outer->body->html->document 由里向外依次传播的
</script>
</body>
</html>