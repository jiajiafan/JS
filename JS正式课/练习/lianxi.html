<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        *{margin:0;padding:0;list-style:none;text-decoration:none;}
        .box{position:relative;width:1000px;height:300px;margin-left:200px;}
        .box .banner{position:absolute;width:100%;height:100%;}
        .box .banner div{position:absolute;width:1000px;height:300px;z-index:0}
        .box ul{position: absolute;right:10px;bottom:10px;overflow: hidden;z-index:2;}
        .box ul li{float:left;width:16px;height:16px;margin-left:8px;background:#f0f0f0;border-radius:50%;}
        .box ul li.bg{background:orangered}
        .box a{position: absolute;top:120px;width:30px;height:60px;line-height:60px;font-size:30px;font-weight:900;color:#fff;text-align:center;z-index:2;display:none;background:rgba(18,19,18,.5)}
        .box a:hover{background:rgba(18,19,18,.8)}
        .box a.btnL{left:20px;}
        .box a.btnR{right:20px;}
    </style>
</head>
<body>
<div class="box" id="box">
    <div class="banner">
        <div><img src="img/banner1.jpg" alt=""></div>
        <div><img src="img/banner2.jpg" alt=""></div>
        <div><img src="img/banner3.jpg" alt=""></div>
        <div><img src="img/banner4.jpg" alt=""></div>
    </div>
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
    <a href="javascript:;" class="btnL"><</a>
    <a href="javascript:;" class="btnR">></a>
</div>
</body>
<script src="move.js"></script>
<script>
    var oBox=document.getElementById('box');
    var oBanner=oBox.getElementsByTagName('div')[0];
    var aDiv=oBanner.getElementsByTagName("div");
    var oUl=oBox.getElementsByTagName('ul')[0];
    var aLi=oUl.getElementsByTagName('li');
    var btnL=oBox.getElementsByTagName('a')[0];
    var btnR=oBox.getElementsByTagName('a')[1];
    var step=0;
    var interval=2000;
    var autoTimer=null;
    aDiv[0].style.zIndex=1;
    zhufengAnimate(aDiv[0],{'opacity':1},600);
    //1.图片轮播
    autoTimer=setInterval(autoMove,interval);
    function autoMove(){
        if(step>=aDiv.length-1){
            step=-1;
        }
        step++;
        setBanner();
    }
    function setBanner(){
        for(var i=0;i<aDiv.length;i++){
            var curDiv=aDiv[i];
            if(i==step){
                curDiv.style.zIndex=1;
                zhufengAnimate(curDiv,{'opacity':1},600);
            }
            if(i!==step){
                curDiv.style.zIndex=0;
                zhufengAnimate(curDiv,{'opacity':0},1000)
            }
        }
        bannerTip();
    }
    //2.焦点
    function bannerTip(){
        for(var i=0;i<aLi.length;i++){
            var curLi=aLi[i];
            i==step?curLi.className='bg':curLi.className='';
        }
    }
    //3.鼠标
    oBox.onmouseover=function(){
        clearInterval(autoTimer);
        btnL.style.display='block';
        btnR.style.display='block';
    };
    oBox.onmouseout=function(){
        autoTimer=setInterval(autoMove,interval);
        btnL.style.display='none';
        btnR.style.display='none';
    };
    //4.点击焦点
    handleChange();
    function handleChange(){
        for(var i=0;i<aLi.length;i++){
            (function(index){
                var curLi=aLi[index];
                curLi.onclick=function(){
                    step=index;
                    setBanner();
                }
            })(i)
        }
    }
    //5.点击按钮
    btnR.onclick=autoMove;
    btnL.onclick=function(){
        if(step<=0){
            step=aLi.length;
        }
        step--;
        setBanner();
    }
</script>
</html>